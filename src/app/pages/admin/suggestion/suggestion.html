<div class="filaEncabezadoContenido">
  <h1>Moderación de Sugerencias</h1>
  <p class="subtitulo">Revisa y aprueba las ideas enviadas por la comunidad.</p>
</div>

<div class="tarjetaTabla">
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Título / Personaje</th>
        <th>Origen</th>
        <th>Detalles</th>
        <th>Usuario</th>
        <th>Estado / Acción</th> </tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of sugerencias">
        <td>#{{ s.id }}</td>
        <td><strong>{{ s.titulo }}</strong></td>
        <td><span class="etiquetaOrigen">{{ s.origen }}</span></td>
        <td class="celdaDetalles" title="{{ s.detalles }}">{{ s.detalles }}</td>
        <td><small class="textoSecundario">{{ s.usuario }}</small></td>

        <td>
          <select
            class="selectorEstadoTabla"
            [value]="s.estado"
            (change)="cambiarEstado(s.id, $any($event.target).value)"
            [ngClass]="{
              'pendiente': s.estado === 'Pendiente',
              'aprobada': s.estado === 'Aprobada',
              'rechazada': s.estado === 'Rechazada',
              'nueva': s.estado === 'Nueva'
            }">
            <option value="Pendiente">Pendiente</option>
            <option value="Nueva">Nueva</option>
            <option value="Aprobada">Aprobada</option>
            <option value="Rechazada">Rechazada</option>
          </select>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="sugerencias.length === 0" style="padding: 20px; text-align: center; color: #aaa;">
    No hay sugerencias por revisar.
  </div>
</div>
